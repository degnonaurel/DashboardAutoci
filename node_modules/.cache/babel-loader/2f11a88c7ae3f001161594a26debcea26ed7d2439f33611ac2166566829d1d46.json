{"ast":null,"code":"var _jsxFileName = \"/Users/aureldegnon/Downloads/projet_tableau_de_bord_autoci_complet/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport BarChartComponent from \"./components/BarChartComponent\";\nimport Filters from \"./components/Filters\";\nimport LanguageSwitcher from \"./components/LanguageSwitcher\";\nimport LineChartComponent from \"./components/LineChartComponent\";\nimport \"./i18n/i18n\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const [data, setData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState(\"\");\n  const [selectedFuel, setSelectedFuel] = useState(\"\");\n  const [selectedBrands, setSelectedBrands] = useState([]);\n  useEffect(() => {\n    fetch(\"/export_voitures_12mois_10marques.csv\").then(res => res.text()).then(text => {\n      const rows = text.trim().split(\"\\n\").slice(1);\n      const parsed = rows.map(line => {\n        const [mois, marque, type_carburant, nb_exportees, prix_moyen_cad] = line.split(\",\");\n        return {\n          mois,\n          marque,\n          type_carburant,\n          nb_exportees: parseInt(nb_exportees),\n          prix_moyen_cad: parseInt(prix_moyen_cad)\n        };\n      });\n      setData(parsed);\n      setSelectedBrands([...new Set(parsed.map(d => d.marque))]);\n    });\n  }, []);\n  useEffect(() => {\n    let result = data;\n    if (selectedMonth) result = result.filter(d => d.mois === selectedMonth);\n    if (selectedFuel) result = result.filter(d => d.type_carburant === selectedFuel);\n    setFilteredData(result);\n  }, [data, selectedMonth, selectedFuel]);\n  const moisList = [...new Set(data.map(d => d.mois))];\n  const carburantList = [...new Set(data.map(d => d.type_carburant))];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"2rem\",\n      fontFamily: \"sans-serif\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: t(\"title\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LanguageSwitcher, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filters, {\n      moisList: moisList,\n      carburantList: carburantList,\n      selectedMonth: selectedMonth,\n      setSelectedMonth: setSelectedMonth,\n      selectedFuel: selectedFuel,\n      setSelectedFuel: setSelectedFuel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BarChartComponent, {\n      data: filteredData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"2rem 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: t(\"select_brands\") || \"Marques Ã  afficher :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"0.5rem\"\n        },\n        children: Array.from(new Set(data.map(d => d.marque))).map(marque => /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginRight: \"1rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            value: marque,\n            checked: selectedBrands.includes(marque),\n            onChange: e => {\n              const checked = e.target.checked;\n              if (checked) {\n                setSelectedBrands([...selectedBrands, marque]);\n              } else {\n                setSelectedBrands(selectedBrands.filter(m => m !== marque));\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), \" \" + marque]\n        }, marque, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LineChartComponent, {\n      data: data,\n      selectedBrands: selectedBrands\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"wtfUdcZcE9SFCoDCxryZRoCXRyA=\", false, function () {\n  return [useTranslation];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useTranslation","BarChartComponent","Filters","LanguageSwitcher","LineChartComponent","jsxDEV","_jsxDEV","App","_s","t","data","setData","filteredData","setFilteredData","selectedMonth","setSelectedMonth","selectedFuel","setSelectedFuel","selectedBrands","setSelectedBrands","fetch","then","res","text","rows","trim","split","slice","parsed","map","line","mois","marque","type_carburant","nb_exportees","prix_moyen_cad","parseInt","Set","d","result","filter","moisList","carburantList","style","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","margin","marginTop","Array","from","marginRight","type","value","checked","includes","onChange","e","target","m","_c","$RefreshReg$"],"sources":["/Users/aureldegnon/Downloads/projet_tableau_de_bord_autoci_complet/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport BarChartComponent from \"./components/BarChartComponent\";\nimport Filters from \"./components/Filters\";\nimport LanguageSwitcher from \"./components/LanguageSwitcher\";\nimport LineChartComponent from \"./components/LineChartComponent\";\nimport \"./i18n/i18n\";\n\nfunction App() {\n  const { t } = useTranslation();\n  const [data, setData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState(\"\");\n  const [selectedFuel, setSelectedFuel] = useState(\"\");\n  const [selectedBrands, setSelectedBrands] = useState([]);\n\n  useEffect(() => {\n    fetch(\"/export_voitures_12mois_10marques.csv\")\n      .then((res) => res.text())\n      .then((text) => {\n        const rows = text.trim().split(\"\\n\").slice(1);\n\n        const parsed = rows.map((line) => {\n          const [mois, marque, type_carburant, nb_exportees, prix_moyen_cad] = line.split(\",\");\n          return {\n            mois,\n            marque,\n            type_carburant,\n            nb_exportees: parseInt(nb_exportees),\n            prix_moyen_cad: parseInt(prix_moyen_cad),\n          };\n        });\n\n        setData(parsed);\n        setSelectedBrands([...new Set(parsed.map((d) => d.marque))]);\n      });\n  }, []);\n\n  useEffect(() => {\n    let result = data;\n    if (selectedMonth) result = result.filter((d) => d.mois === selectedMonth);\n    if (selectedFuel) result = result.filter((d) => d.type_carburant === selectedFuel);\n    setFilteredData(result);\n  }, [data, selectedMonth, selectedFuel]);\n\n  const moisList = [...new Set(data.map((d) => d.mois))];\n  const carburantList = [...new Set(data.map((d) => d.type_carburant))];\n\n  return (\n    <div style={{ padding: \"2rem\", fontFamily: \"sans-serif\" }}>\n      <h1>{t(\"title\")}</h1>\n      <LanguageSwitcher />\n      <Filters\n        moisList={moisList}\n        carburantList={carburantList}\n        selectedMonth={selectedMonth}\n        setSelectedMonth={setSelectedMonth}\n        selectedFuel={selectedFuel}\n        setSelectedFuel={setSelectedFuel}\n      />\n      <BarChartComponent data={filteredData} />\n\n      {/* ðŸŽ¯ Filtre de marques pour le graphe en lignes */}\n      <div style={{ margin: \"2rem 0\" }}>\n        <strong>{t(\"select_brands\") || \"Marques Ã  afficher :\"}</strong>\n        <div style={{ marginTop: \"0.5rem\" }}>\n          {Array.from(new Set(data.map((d) => d.marque))).map((marque) => (\n            <label key={marque} style={{ marginRight: \"1rem\" }}>\n              <input\n                type=\"checkbox\"\n                value={marque}\n                checked={selectedBrands.includes(marque)}\n                onChange={(e) => {\n                  const checked = e.target.checked;\n                  if (checked) {\n                    setSelectedBrands([...selectedBrands, marque]);\n                  } else {\n                    setSelectedBrands(selectedBrands.filter((m) => m !== marque));\n                  }\n                }}\n              />\n              {\" \" + marque}\n            </label>\n          ))}\n        </div>\n      </div>\n\n      <LineChartComponent data={data} selectedBrands={selectedBrands} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}